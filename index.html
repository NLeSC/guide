<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Netherlands eScience Center Guide</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="Description" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/docsify/themes/vue.css"
    />
    <link rel="stylesheet" href="/styles.css" />
    <link rel="icon" type="image/png" href="images/favicon.png" />
    <!-- Matomo -->
    <!-- <script>
      var _paq = (window._paq = window._paq || []);
      _paq.push(["disableCookies"]); // Call disableCookies before calling trackPageView
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);
      (function () {
        var u = "//matomo.research.software/";
        _paq.push(["setTrackerUrl", u + "matomo.php"]);
        _paq.push(["setSiteId", "5"]);
        var d = document,
          g = d.createElement("script"),
          s = d.getElementsByTagName("script")[0];
        g.async = true;
        g.src = u + "matomo.js";
        s.parentNode.insertBefore(g, s);
      })();
      window.addEventListener("hashchange", function () {
        _paq.push(["setCustomUrl", "/" + window.location.hash]);
        _paq.push(["setDocumentTitle", document.title]);
        _paq.push(["trackPageView"]);
      });
    </script> -->
    <!-- End Matomo Code -->
  </head>

  <body>
    <div id="app"></div>
    <script>
      window.$docsify = {
        name: "Netherlands eScience Center Guide",
        repo: "NLeSC/guide",
        loadSidebar: true,
        logo: "/images/netherlands-escience-center-logo-RGB.png",
        alias: {
          "/.*/_sidebar.md": "/_sidebar.md",
        },
        relativePath: true,
        matomo: {
          host: "//matomo.research.software",
          id: 5,
          disableCookies: true,
        },
      };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/docsify/lib/docsify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/external-script.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-bash.min.js"></script>
    <!-- custom version of Matomo plugin, modified from https://github.com/docsifyjs/docsify/blob/develop/src/plugins/matomo.js -->
    <script>
      function appendScript(options) {
        const script = document.createElement("script");
        script.async = true;
        script.src = options.host + "/matomo.js";
        document.body.appendChild(script);
      }

      function init(options) {
        window._paq = window._paq || [];
        if (options.disableCookies) {
          window._paq.push(["disableCookies"]); // Call disableCookies before calling trackPageView
        }
        // window._paq.push(["trackPageView"]);
        window._paq.push(["enableLinkTracking"]);
        setTimeout(() => {
          appendScript(options);
          window._paq.push(["setTrackerUrl", options.host + "/matomo.php"]);
          window._paq.push(["setSiteId", String(options.id)]);
        }, 0);
      }

      function collect() {
        if (!window._paq) {
          init($docsify.matomo);
        }

        window._paq.push(["setCustomUrl", "/" +  window.location.hash]);
        window._paq.push(["setDocumentTitle", document.title]);
        window._paq.push(["trackPageView"]);
      }

      const install = function (hook) {
        if (!$docsify.matomo) {
          // eslint-disable-next-line no-console
          console.error("[Docsify] matomo is required.");
          return;
        }

        hook.doneEach(collect);
      };

      window.$docsify = window.$docsify || {};
      $docsify.plugins = [install, ...($docsify.plugins || [])];
    </script>
  </body>
</html>
